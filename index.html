<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head>
	<meta name="generator" content="Hugo 0.107.0">
    
      <meta name="theme" content='FixIt v0.2.17'>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>Cyan&#39;s Notebook</title><meta name="author" content="Cyan">
<meta name="author-link" content="">
<meta name="description" content="Cyan&#39;s Notebook" /><meta name="keywords" content='Hugo, FixIt' /><meta itemprop="name" content="Cyan&#39;s Notebook">
<meta itemprop="description" content="Cyan&#39;s Notebook"><meta property="og:title" content="Cyan&#39;s Notebook" />
<meta property="og:description" content="Cyan&#39;s Notebook" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Cyan&#39;s Notebook"/>
<meta name="twitter:description" content="Cyan&#39;s Notebook"/>
<meta name="application-name" content="Cyan&#39;s Notebook">
<meta name="apple-mobile-web-app-title" content="Cyan&#39;s Notebook"><meta name="theme-color" data-light="#ffffff" data-dark="#252627" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="/" /><link rel="alternate" href="/index.xml" type="application/rss+xml" title="Cyan&#39;s Notebook">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Cyan&#39;s Notebook"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "WebSite",
    "url": "\/","inLanguage": "zh-CN","author": {
        "@type": "Person",
        "name": "Cyan"
      },"description": "Cyan's Notebook","name": "Cyan's Notebook"
  }
  </script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="Cyan&#39;s Notebook"><span class="header-title-text">Cyan&#39;s Notebook</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a
                class="menu-link"
                href="/posts/"
                
                
              ><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> æ–‡ç« </a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/"
                
                
              ><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden="true"></i> åˆ†ç±»</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/tags/"
                
                
              ><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> æ ‡ç­¾</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/friends/"
                
                
              ><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden="true"></i> å‹é“¾</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/about/"
                
                
              ><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden="true"></i> å…³äº</a></li><li class="menu-item delimiter"></li><li class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li>
      </ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="Cyan&#39;s Notebook"><span class="header-title-text">Cyan&#39;s Notebook</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/posts/"
                  
                  
                ><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> æ–‡ç« </a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/"
                  
                  
                ><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden="true"></i> åˆ†ç±»</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/tags/"
                  
                  
                ><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> æ ‡ç­¾</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/friends/"
                  
                  
                ><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden="true"></i> å‹é“¾</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/about/"
                  
                  
                ><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden="true"></i> å…³äº</a></li><li class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><main class="container-reverse" data-page-style="normal"><div class="page home posts"><div class="home-profile"><div class="home-avatar"><a href="/posts/" title="æ–‡ç« "><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/></a></div><h2 class="home-subtitle"><span class="d-none">æœ‰èŠ±å ªæŠ˜ç›´é¡»æŠ˜ï¼Œè«å¾…æ— èŠ±ç©ºæŠ˜æã€‚</span>
        <span id="typeit-profile-subtitle" class="typeit"></span></h2><div class="links"></div><div class="profile-custom">
  <img id="ghchart" src="https://ghchart.rshah.org/cyan-io" alt="Cyan's Github chart"
    onclick="window.location.href='https://github.com/cyan-io'" />
</div>

<style>
  #ghchart {
    width: auto;
    height: auto;
    max-width: 100%;
    max-height: 100%;
  }
</style></div>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-08-06-qemu-cpu-model/">QEMU CPU Model</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-08-06 10:03:35'>å‘å¸ƒäº <time datetime="2023-08-06">2023-08-06</time></span></div><div class="content">å›¾ç‰‡ä½¿ç”¨äº†smmså›¾åºŠï¼Œç‰¹æ®Šç½‘ç»œä¸‹å¯èƒ½æ— æ³•åŠ è½½ï¼›
æ›´åƒæ˜¯åœ¨è®¨è®ºCPU ;-)ï¼Œä¸æƒ³å¬ç‹å…«å¿µç»ï¼Ÿç›´æ¥é­”æ”¹è¿™æ¡å°±å¯ä»¥äº†ï¼š
1 qemu-system-x86_64 -M q35 -accel kvm -cpu host -m 4096 -smp 4 -drive file=drive å‘æŒ¥CPUå…¨éƒ¨æ€§èƒ½ï¼šCPUæ¨¡å‹ä¸æŒ‡ä»¤é›† 1 -cpu model ä½¿ç”¨qemu-system-x86_64 -cpu help
æˆ‘ä»¬æš‚æ—¶åªè¦äº†è§£ï¼ŒQEMUæä¾›è¿™ä¹ˆå¤šCPUæ¨¡å‹ï¼Œæ˜¯ä¸ºäº†ä¾¿äºæˆ‘ä»¬è¿ç§»é•œåƒåˆ°å…¶ä»–ç‰©ç†æœºï¼Œç‰¹åˆ«æ˜¯ä¸åŒCPUçš„ç‰©ç†æœºã€‚
æµ‹è¯• ç¡¬ä»¶ï¼šIntel 12100ï¼ˆ4æ ¸8çº¿ç¨‹ï¼Œæ— Eæ ¸ï¼‰ï¼Œ DDR4 32G 3200Mhz RAM
è½¯ä»¶ï¼šGeekBench 6.1.0
å®¿ä¸»æœºï¼šPVEè¿è¡Œçš„QEMU Ubuntu 22.04ï¼Œåˆ†é…8æ ¸å¿ƒã€10G RAM
å®¢æˆ·æœºï¼šï¼ˆåµŒå¥—è™šæ‹ŸåŒ–ï¼‰ Ubuntu 22.04ï¼Œ4G RAMï¼ŒKVMï¼ŒHOST
å®¿ä¸»æœºæµ‹è¯•æ€§èƒ½ï¼šå•æ ¸2265ã€å¤šæ ¸7711ï¼ŒQEMU Standard PC (i440FX + PIIX, 1996) - Geekbench
æµ‹è¯•CPUæ¨¡å‹å¯¹CPUæ€§èƒ½çš„å½±å“ï¼š cpu model single core multi core url host 2224 7187 https://browser.geekbench.com/v6/cpu/2157089 max 2221 7366 https://browser.geekbench.com/v6/cpu/2157146 kvm64 1149 3994 https://browser.</div><div class="post-footer">
    <a href="/posts/2023-08-06-qemu-cpu-model/">é˜…è¯»å…¨æ–‡</a></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-08-05-qemu-accel/">QEMU - accel</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-08-05 13:44:16'>å‘å¸ƒäº <time datetime="2023-08-05">2023-08-05</time></span></div><div class="content">Intro æŸ¥çœ‹QEMUæ–‡æ¡£ï¼Œå¯¹Acceleratorï¼ˆåŠ é€Ÿå™¨ï¼‰çš„ä»‹ç»å¦‚ä¸‹ï¼š
This is used to enable an accelerator. Depending on the target architecture, kvm, xen, hax, hvf, nvmm, whpx or tcg can be available. By default, tcg is used. If there is more than one accelerator specified, the next one is used if the previous one fails to initialize.
å…³äºkvm, xen, hax, hvf, nvmm, whpx, tcgï¼Œä»¥ä¸‹å†…å®¹æ€»ç»“è‡ªChatGPT 3.5ï¼ˆEmmmï¼ŒçœŸå¥½ç”¨ï¼‰ï¼š
æŠ€æœ¯/è½¯ä»¶ æè¿° å¹³å°æ”¯æŒ è™šæ‹ŸåŒ–æ–¹å¼ KVM (Kernel-based Virtual Machine) å¼€æºè™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆï¼Œåˆ©ç”¨Linuxå†…æ ¸è™šæ‹ŸåŒ–åŠŸèƒ½ï¼Œåœ¨Linuxä¸Šè¿è¡Œè™šæ‹Ÿæœº Linux ç¡¬ä»¶è™šæ‹ŸåŒ– Xen åŸºäºå¾®å†…æ ¸æ¶æ„çš„å¼€æºè™šæ‹ŸåŒ–ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§å®¢æˆ·æœºæ“ä½œç³»ç»Ÿ å¤šå¹³å°ï¼ˆç‰¹åˆ«åœ¨x86ä¸Šå¸¸ç”¨ï¼‰ ç¡¬ä»¶è™šæ‹ŸåŒ–æˆ–ç›´æ¥è¿è¡Œ HAX (Hardware Accelerated Execution) Intelæä¾›çš„ç¡¬ä»¶åŠ é€Ÿæ‰§è¡ŒæŠ€æœ¯ï¼Œç”¨äºAndroidæ¨¡æ‹Ÿå™¨ä¸­çš„è™šæ‹Ÿæœº x86ä¸»æœºä¸Šè¿è¡ŒARMè™šæ‹Ÿæœº ç¡¬ä»¶åŠ é€Ÿè™šæ‹ŸåŒ– HVF (Hypervisor.</div><div class="post-footer">
    <a href="/posts/2023-08-05-qemu-accel/">é˜…è¯»å…¨æ–‡</a><div class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href='/tags/qemu/' class="post-tag">QEMU</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-08-05-qemu-smp-sockets-die-core-threads/">QEMU - smp (sockets, die, core, threads)</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-08-05 04:50:30'>å‘å¸ƒäº <time datetime="2023-08-05">2023-08-05</time></span></div><div class="content">å›¾ç‰‡ä½¿ç”¨äº†smmså›¾åºŠï¼Œç‰¹æ®Šç½‘ç»œä¸‹å¯èƒ½æ— æ³•åŠ è½½ï¼›
æ›´åƒæ˜¯åœ¨è®¨è®ºCPU ;-)ï¼Œä¸æƒ³å¬ç‹å…«å¿µç»ï¼Ÿç›´æ¥é­”æ”¹è¿™æ¡å°±å¯ä»¥äº†ï¼š
1 qemu-system-x86_64 -M q35 -accel kvm -cpu host -m 4096 -smp 4 -drive file=drive å‰ç½®çŸ¥è¯†ï¼šè¶…çº¿ç¨‹â€”â€”ä»»åŠ¡ç®¡ç†å™¨é‡Œå±•ç¤ºçš„å¹¶ä¸æ˜¯çœŸæ­£çš„CPU æµ‹è¯•ä½¿ç”¨çš„CPUä¸ºè‹±ç‰¹å°”Â® é…·ç¿â„¢ i3-12100 å¤„ç†å™¨ (intel.cn)ï¼Œæ ¹æ®è§„æ ¼è¡¨ï¼Œä¸€å…±æœ‰4é¢—æ ¸å¿ƒã€‚è€Œåœ¨htopä¸­ï¼Œå¯ä»¥çœ‹åˆ°8ä¸ªCPUè´Ÿè½½
æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿä»¥CPUæ”¯æŒçš„çº¿ç¨‹æ•°ï¼Œä½œä¸ºé€»è¾‘æ ¸å¿ƒå±•ç¤ºï¼Œè€Œä¸æ˜¯ç‰©ç†æ ¸å¿ƒï¼›
å½“CPUå¯ç”¨è¶…çº¿ç¨‹åï¼ŒCPU ä¼šåœ¨æ¯ä¸ªç‰©ç†å†…æ ¸ä¸Šå…¬å¼€ä¸¤ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¸€ä¸ªç‰©ç†å†…æ ¸ç°åœ¨å°±åƒä¸¤ä¸ªâ€œé€»è¾‘å†…æ ¸â€ä¸€æ ·ï¼Œå¯ä»¥å¤„ç†ä¸åŒçš„è½¯ä»¶çº¿ç¨‹ï¼›
By taking advantage of idle time when the core would formerly be waiting for other tasks to complete, IntelÂ® Hyper-Threading Technology improves CPU throughput.ï¼ˆåç¨‹å’Œè¿™ä¸ªç†å¿µåŸºæœ¬ç›¸åŒï¼‰
What Is Hyper-Threading? - Intel
å½“ç„¶ï¼Œè¶…çº¿ç¨‹æŠ€æœ¯å¹¶ä¸èƒ½è®©å¤šæ ¸æ€§èƒ½ç®€å•çš„x2ï¼Œç†æƒ³æƒ…å†µä¸‹å¯ä»¥å¸¦æ¥20%è‡³30%å·¦å³çš„æ€§èƒ½ï¼ˆååé‡ï¼‰æå‡ã€‚
ä¸ºè™šæ‹Ÿæœºåˆ†é…æ ¸å¿ƒ QEMUä½¿ç”¨-smpåˆ†é…æ ¸å¿ƒï¼Œä½¿ç”¨æ–¹å¼ï¼š
1 -smp [[cpus=]n][,maxcpus=maxcpus][,sockets=sockets][,dies=dies][,clusters=clusters][,cores=cores][,threads=threads] å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€é¢—å¶å­èŠ‚ç‚¹ä¸ºçº¿ç¨‹ï¼ˆé€»è¾‘æ ¸å¿ƒï¼‰çš„æ»¡äºŒå‰æ ‘ï¼š
é€»è¾‘å¤„ç†å™¨æ•°é‡ï¼š
$$ n=sockets*dies*clusters*cores*threads $$
å…¶ä¸­ï¼Œmaxcpusæ˜¯QEMUä¸ºçƒ­æ’æ‹”è®¾ç½®çš„å±æ€§ï¼Œåœ¨æ­¤ä¸å±•å¼€ï¼›
å‚æ•° å¯¹åº”çš„ç‰©ç†å¯¹è±¡ å‚æ•°ä½œç”¨ sockets CPUæ’æ§½ CPUæ’æ§½æ•°ç›® dies CPUæ™¶ç‰‡ æ¯ä¸ªCPUæœ‰å‡ å—æ‰¿è½½æ ¸å¿ƒçš„æ™¶ç‰‡ clusters é•œç‰‡ä¸Šçš„ æ¯ä¸ªæ™¶ç‰‡å°†CPUåˆ†ä¸ºå‡ ç°‡ cores CPUæ ¸å¿ƒ æ¯ç°‡åŒ…å«å‡ ä¸ªCPU threads / æ¯ä¸ªCPUæ ¸å¿ƒé€šè¿‡è¶…çº¿ç¨‹æ”¯æŒçš„çº¿ç¨‹æ•° å¸¸è§å†™æ³•ï¼š</div><div class="post-footer">
    <a href="/posts/2023-08-05-qemu-smp-sockets-die-core-threads/">é˜…è¯»å…¨æ–‡</a><div class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href='/tags/cpu/' class="post-tag">CPU</a><a href='/tags/qemu/' class="post-tag">QEMU</a><a href='/tags/threads/' class="post-tag">Threads</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-07-30-lvm-linear-raid01/">LVM, Linear, RAID[01]...</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-07-30 13:38:36'>å‘å¸ƒäº <time datetime="2023-07-30">2023-07-30</time></span></div><div class="content">æœ‰æ—¶é—´å†å†™ğŸŒ‘
REF ç³»ç»Ÿè¿ç»´|Linux LVMç®€æ˜æ•™ç¨‹
(1æ¡æ¶ˆæ¯) Linux | LVM | å¯¹æ¯”ä¸‰ç§é€»è¾‘å·ï¼ˆLogic Volumeï¼‰_Hello Hunkçš„åšå®¢-CSDNåšå®¢</div><div class="post-footer">
    <a href="/posts/2023-07-30-lvm-linear-raid01/">é˜…è¯»å…¨æ–‡</a></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-07-30-pve/">PVE Souce</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-07-30 13:38:05'>å‘å¸ƒäº <time datetime="2023-07-30">2023-07-30</time></span></div><div class="content">PVE &amp; Debian pve 7.3.3åŸºäºdebian 11 bullseye
APTæº 1 sudo apt install apt-transport-https ca-certificates ä¿®æ”¹souces.list
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free # deb https://mirrors.</div><div class="post-footer">
    <a href="/posts/2023-07-30-pve/">é˜…è¯»å…¨æ–‡</a><div class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href='/tags/pve/' class="post-tag">PVE</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-07-30-qemu-quickstart/">QEMU - QuickStart</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-07-30 12:57:10'>å‘å¸ƒäº <time datetime="2023-07-30">2023-07-30</time></span></div><div class="content">æ–‡ç« äº2023å¹´8æœˆ5æ—¥è¿›è¡Œå‹˜è¯¯ï¼Œä¿®æ­£å†…å®¹ï¼š
-smp sockets=1,cores=4,threads=4 =&gt; -smp 4,sockets=1,cores=4,threads=1 åŸå› ï¼šthreadså‚æ•°è¡¨ç¤ºæ¯æ ¸å¿ƒå¤šå°‘çº¿ç¨‹
åˆ é™¤-net user
Intro QEMUæ˜¯ä¸€æ¬¾è·¨å¹³å°çš„å¼€æºè™šæ‹Ÿæœºå·¥å…·ï¼Œå› ä¸ºæ— GUIé…ç½®å·¥å…·ï¼Œæœ‰ä¸€å®šä½¿ç”¨é—¨æ§›
æ ¹æ®å†¯è¯ºä¾æ›¼ç»“æ„ï¼Œä¸€ä¸ªè®¡ç®—æœºå¯åˆ†ä¸ºï¼š
è¿ç®—å™¨ æ§åˆ¶å™¨ å­˜å‚¨å™¨ è¾“å…¥è®¾å¤‡ è¾“å‡ºè®¾å¤‡ ä½¿ç”¨QEMUæ—¶ï¼Œåº”è¯¥å°½é‡å¾€è¯¥æ¨¡å‹è”æƒ³
åˆ›å»ºå­˜å‚¨å™¨ åˆ›å»ºä¸€ä¸ª16Gçš„è™šæ‹Ÿç£ç›˜æ–‡ä»¶
1 qemu-img create -f qcow2 drive 16G è™šæ‹Ÿç¡¬ä»¶ç¯å¢ƒ è¿ç®—å™¨ã€æ§åˆ¶å™¨ -&gt; CPUã€å„ç§åŠ é€Ÿå™¨* è¾“å…¥ã€è¾“å‡ºè®¾å¤‡ -&gt; ç½‘å¡ã€CXLè®¾å¤‡ç­‰ QEMUæœ¬èº«æ²¡æœ‰åƒVMwareé‚£æ ·çš„GUIé…ç½®ç•Œé¢ï¼Œæ‰€æœ‰é…ç½®é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®š
1 2 3 qemu-system-x86_64 -machine q35 \ -smp 4,sockets=1,cores=4,threads=1 \ -m 4096 ç°åœ¨å¯åŠ¨äº†ä¸€ä¸ªæœºå‹ä¸ºq35ï¼Œå¤„ç†å™¨1æ’æ§½4æ ¸4çº¿ç¨‹ï¼Œå†…å­˜4096MBï¼Œä½¿ç”¨é»˜è®¤ç½‘ç»œé…ç½®çš„è™šæ‹Ÿæœºï¼Œç”±äºæ²¡æœ‰å¯åŠ¨ç›˜ï¼Œå¹¶ä¸ä¼šå¯åŠ¨æŸä¸ªç³»ç»Ÿ
åˆ©ç”¨è™šæ‹Ÿç¡¬ä»¶ç¯å¢ƒå¯åŠ¨ç³»ç»Ÿ æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€å—ç¡¬ç›˜driveä½œä¸ºå¯åŠ¨ç›˜ï¼ŒæŒ‡å®šç»™è™šæ‹Ÿç¯å¢ƒï¼š
1 2 3 4 qemu-system-x86_64 -machine q35 \ -smp 4,sockets=1,cores=4,threads=1 \ -m 4096 \ -drive file=drive ä¼šå‘ç°ï¼ŒæŒ‡å®šåå¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªâ€œç¡¬ç›˜â€æˆ‘ä»¬æ²¡æœ‰ç»™å®ƒâ€œå®‰è£…â€ç³»ç»Ÿ
å®‰è£…ç³»ç»Ÿ å‚è€ƒä¸ºç‰©ç†æœºå®‰è£…ç³»ç»Ÿï¼š</div><div class="post-footer">
    <a href="/posts/2023-07-30-qemu-quickstart/">é˜…è¯»å…¨æ–‡</a><div class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href='/tags/qemu/' class="post-tag">QEMU</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-07-25-qemu-cxl/">QEMU - CXL</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-07-25 00:00:57'>å‘å¸ƒäº <time datetime="2023-07-25">2023-07-25</time></span></div><div class="content">Intro æ–‡ç« ä¸å¯¹CXLã€Linuxå†…æ ¸è¿›è¡Œæ·±ç©¶ï¼Œå¯è§†ä¸ºhello worldç ”ç©¶
å¯¹äºQEMUåŸºæœ¬çš„ä½¿ç”¨çŸ¥è¯†ï¼ŒèŠ‚çœç¯‡å¹…ä¸å†èµ˜è¿°ï¼Œå¹¶çœç•¥ç¹çç»†èŠ‚
è½¯ä»¶ç¯å¢ƒ å®¿ä¸»æœº&amp;å®¢æˆ·æœº ubuntu-22.04.2-live-server-amd64
QEMU 8.0.3 https://download.qemu.org/qemu-8.0.3.tar.xz
Download QEMU - QEMU
æŒ‰ç…§å®˜æ–¹æµç¨‹è¿›è¡Œç¼–è¯‘
å¯åŠ¨è™šæ‹Ÿæœº 1 2 3 4 5 6 7 qemu-system-x86_64 -M q35,cxl=on -accel kvm -cpu host -m 4096 -smp 4 -drive file=drive \ -object memory-backend-file,id=cxl-mem1,share=on,mem-path=/tmp/cxltest.raw,size=256M \ -object memory-backend-file,id=cxl-lsa1,share=on,mem-path=/tmp/lsa.raw,size=256M \ -device pxb-cxl,bus_nr=12,bus=pcie.0,id=cxl.1 \ -device cxl-rp,port=0,bus=cxl.1,id=root_port13,chassis=0,slot=2 \ -device cxl-type3,bus=root_port13,memdev=cxl-mem1,lsa=cxl-lsa1,id=cxl-pmem0 \ -M cxl-fmw.0.targets.0=cxl.1,cxl-fmw.0.size=4G å¯åŠ¨ååº”è¯¥å¯ä»¥åœ¨/devç›®å½•ä¸‹æ‰¾åˆ°CXLæ–‡ä»¶
REF åœ¨ubuntuä¸Šæ‰§è¡ŒQEMUçš„ç¼–è¯‘å®‰è£…_ubuntuå®‰è£…qemu_ç”°å›­è¯—äººä¹‹å›­çš„åšå®¢-CSDNåšå®¢
linuxæŠ¥é”™ï¼š/bin/sh: 1: flex: not found scripts/Makefile.host:9: recipe for target â€˜scripts/kconfig/lexe_é”…é”…æ˜¯é”…é”…çš„åšå®¢-CSDNåšå®¢
How To Emulate CXL Devices using KVM and QEMU - Steve Scargall</div><div class="post-footer">
    <a href="/posts/2023-07-25-qemu-cxl/">é˜…è¯»å…¨æ–‡</a><div class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href='/tags/qemu/' class="post-tag">QEMU</a><a href='/tags/cxl/' class="post-tag">CXL</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-07-25-vnc-for-pve-vm-not-novnc/">VNC for PVE VM (not noVNC)</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-07-24 23:56:10'>å‘å¸ƒäº <time datetime="2023-07-24">2023-07-24</time></span></div><div class="content">VNC Client Access - Proxmox VE</div><div class="post-footer">
    <a href="/posts/2023-07-25-vnc-for-pve-vm-not-novnc/">é˜…è¯»å…¨æ–‡</a></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/resize-linux-lvm/">Resize Linux LVM</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-07-24 23:54:30'>å‘å¸ƒäº <time datetime="2023-07-24">2023-07-24</time></span>&nbsp;<span class="post-category">æ”¶å½•äº <a href="/categories/linux/"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> Linux</a></span></div><div class="content">How to resize a logical volume with 5 simple LVM commands | Enable Sysadmin (redhat.com)
ç³»ç»Ÿè¿ç»´|å¦‚ä½•åœ¨ Linux ä¸­æ‰©å±•/å¢åŠ  LVM å¤§å°ï¼ˆé€»è¾‘å·è°ƒæ•´ï¼‰
è§£å†³ Linux /dev/mapper/ubuntu&ndash;vg-ubuntu&ndash;lv ç£ç›˜ç©ºé—´ä¸è¶³çš„é—®é¢˜_ubuntu vg ä¸ºä»€ä¹ˆä¸ç”¨æ»¡_fly-liuhaoçš„åšå®¢-CSDNåšå®¢</div><div class="post-footer">
    <a href="/posts/resize-linux-lvm/">é˜…è¯»å…¨æ–‡</a><div class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href='/tags/linux/' class="post-tag">Linux</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
    <a href="/posts/2023-06-24-cuda/">CUDA, CUDNN &amp; Installation</a>
  </h1><div class="post-meta"><span class="post-author"><span class="author"><img
    class="lazyload avatar"
    src="/svg/loading.min.svg"
    data-src="/avatar.jpg"
    data-srcset="/avatar.jpg, /avatar.jpg 1.5x, /avatar.jpg 2x"
    data-sizes="auto"
    alt="Cyan"
    title="Cyan"/>&nbsp;Cyan</span></span>&nbsp;<span class="post-publish" title='2023-06-24 08:06:21'>å‘å¸ƒäº <time datetime="2023-06-24">2023-06-24</time></span></div><div class="content">Create Python Environment 1 cond create -n env_name python=3.x Torch Start Locally | PyTorch
Check Installation 1 2 import torch torch.cuda.is_available() CUDA CUDA Toolkit Archive | NVIDIA Developer
1 conda install cudatoolkit=x.x CUDNN ç®€å•åŒºåˆ†ï¼šCUDAä¸ºNVçš„è®¡ç®—æ¡†æ¶ï¼Œè€ŒCUDNNä¸ºNVä¸ºæ·±åº¦å­¦ä¹ è®¾è®¡çš„è®¡ç®—åº“
å»ºè®®ä½¿ç”¨pytorchå®˜æ–¹çš„condaæŒ‡ä»¤ä¸€é”®å®‰è£…</div><div class="post-footer">
    <a href="/posts/2023-06-24-cuda/">é˜…è¯»å…¨æ–‡</a></div>
</article>
<ul class="pagination"><li class="page-item active">
          <span class="page-link">
            <a href="/">1</a>
          </span>
        </li><li class="page-item">
          <span class="page-link">
            <a href="/page/2/">2</a>
          </span>
        </li><li class="page-item">
          <span class="page-link">
            <a href="/page/3/">3</a>
          </span>
        </li><li class="page-item">
          <span class="page-link" aria-hidden="true">&hellip;</span>
        </li><li class="page-item">
          <span class="page-link">
            <a href="/page/5/">5</a>
          </span>
        </li></ul></div></main></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="å›åˆ°é¡¶éƒ¨"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">FixIt ä¸»é¢˜åœ¨å¯ç”¨ JavaScript çš„æƒ…å†µä¸‹æ•ˆæœæœ€ä½³ã€‚</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/lazysizes/lazysizes.min.js" async defer></script><script src="/lib/typeit/index.umd.js" defer></script><script src="/lib/katex/katex.min.js" defer></script><script src="/lib/katex/auto-render.min.js" defer></script><script src="/lib/katex/copy-tex.min.js" defer></script><script src="/lib/katex/mhchem.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script>window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":200},"cookieconsent":{"content":{"dismiss":"åŒæ„","link":"äº†è§£æ›´å¤š","message":"æœ¬ç½‘ç«™ä½¿ç”¨ Cookies æ¥æ”¹å–„æ‚¨çš„æµè§ˆä½“éªŒã€‚"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"data":{"typeit-profile-subtitle":"æœ‰èŠ±å ªæŠ˜ç›´é¡»æŠ˜ï¼Œè«å¾…æ— èŠ±ç©ºæŠ˜æã€‚"},"enablePWA":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"typeit-profile-subtitle":["typeit-profile-subtitle"]},"duration":-1,"speed":100}};</script><script src="/js/theme.min.js" defer></script></body>
</html>
